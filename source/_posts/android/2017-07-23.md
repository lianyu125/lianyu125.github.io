---
title: 安卓初级开发之使用Fragment建立动态UI
category: Android
tags: Android
keywords: Android
description: 为了在 Android 上为用户提供动态的、多窗口的交互体验，需要将 UI 组件和Activity 操作封装成模块进行使用，这样我们就可以在 Activity 中对这些模块进行切入切出操作。可以用Fragment 创建这些模块，Fragment 就像一个嵌套的 Activity，拥有自己的布局（Layout）并管理自己的生命期。Fragment 定义了自己的布局后，它可以在 Activity 中与其他 Fragment 生成不同的组合，从而为不同的屏幕尺寸生成不同的布局（小屏幕一次也许只能显示一个 Fragment，大屏幕则可以显示更多）。本章将展示如何用 Fragment 创建动态界面，并在不同屏幕尺寸的设备上优化 APP 的用户体验。本章内容支持 Android 1.6 以上的设备。
---

## 创建 Fragment 
  可以把 Fragment 想象成 Activity 的模块，它拥有自己的生命周期、接收输入事件，可以在 Acvitity 运行过程中添加或者移除（有点像“子 Activity”，可以在不同的 Activity 里重复使用）。这一课教我们将学习继承  [Support Library](https://developer.android.com/tools/support-library/index.html)中的 [Fragment](https://developer.android.com/reference/android/support/v4/app/Fragment.html)，使 APP 在 Android 1.6 这样的低版本上仍能保持兼容。

   在开始之前，必须在项目中先引用 Support Library。如果你从未使用过 Support Library，可根据文档 [设置 Support Library](https://developer.android.com/tools/support-library/setup.html) 在项目中使用 v4 库。当然，也可以使用包含 [APP Bar](https://developer.android.com/training/appbar/index.html) 的 v7 appcompat 库。该库兼容 Android 2.1 (API level 7)，同时也包含了 Fragment API。    
### 创建 Fragment 类   
   首先从 Fragment 继承并创建 Fragment，然后在关键的生命周期方法中插入代码（就和在处理 Activity 时一样）。

其中一个区别是：创建 Fragment 时，必须重写 onCreateView() 回调方法来定义布局。事实上，这是唯一一个为使 Fragment 运行起来需要重写的回调方法。比如，下面是一个自定义布局的示例 Fragment：
 


